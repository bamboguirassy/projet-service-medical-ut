<tc-card *ngIf="bonReceptionSrv.resourceName|showable" [tcGradient]="lightGradient">
    <div class="row">
        <div class="col-12 col-md-4" style="align-items: center;">
            <tc-card [outline]="true" [view]="secondViewBorder" [title]="title" [tcGradient]="secondGradient">
                <div class="row">
                    <div class="col-12">
                        <table class="table">
                            <tr>
                                <th>Numéro</th>
                                <td>{{ entity?.numero }}</td>
                            </tr>
                            <tr>
                                <th>Date</th>
                                <td>{{ entity?.date|date:'dd/MM/yyyy' }}</td>
                            </tr>
                            <tr>
                                <th>Créée par</th>
                                <td>{{ entity?.userEmail }}</td>
                            </tr>
                            <tr>
                                <th>Nom</th>
                                <td>{{ entity?.nom }}</td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <div class="col-12">
                                        <button tc-button class="float-right ml-1" (click)="location.back()"
                                            beforeIcon="icofont-reply"></button>
                                        <button (click)="findEntity(entity.id)" tc-button view="accent"
                                            class="float-right ml-1" beforeIcon="icofont-refresh"></button>
                                        <button (click)="remove(entity)" *ngIf="bonReceptionSrv.resourceName|deletable"
                                            tc-button view="error" beforeIcon="icofont-trash"
                                            class="float-right ml-1"></button>
                                        <button (click)="openModal()" *ngIf="bonReceptionSrv.resourceName|editable"
                                        class="float-right ml-1"tc-button view="warning" beforeIcon="icofont-edit"></button>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </tc-card>
        </div>
        <div class="col-12 col-md-8">
            <app-medicamentreception-list *ngIf="entity" [bonReception]="entity" [orientation]="orientation">
            </app-medicamentreception-list>
        </div>
    </div>
</tc-card>

<!-- Modal window -->
<nz-modal nzWidth="50%" [(nzVisible)]="isModalVisible" [nzClosable]="false"
    [nzTitle]="'Formulaire - Mis à jour bon de réception'" [nzContent]="modalBody" [nzFooter]="modalFooter"
    (nzOnCancel)="closeModal()">
    <ng-template #modalBody>
        <form #form="ngForm" ngNativeValidate>
            <div class="row">
                <div class="col-12">
                    <tc-form-group>
                        <tc-form-label>Date bon reception</tc-form-label>
                        <nz-date-picker [nzFormat]="'dd/MM/yyyy'" [(ngModel)]="entity.date" name="date" id="date"
                            #date="ngModel">
                        </nz-date-picker>
                        <tc-form-description>
                            <app-form-field-validation-message [formField]="date">
                            </app-form-field-validation-message>
                        </tc-form-description>
                    </tc-form-group>
                </div>
            </div>
        </form>
    </ng-template>
    <ng-template #modalFooter>
        <div class="actions justify-content-between">
            <button beforeIcon="icofont-close" class="pull-right" tc-button [type]="'button'" [view]="'error'"
                (click)="closeModal()">Fermer</button>
            <button [disabled]="!entity.date" class="float-right" (click)="updateItem()" beforeIcon="icofont-save"
                tc-button view="warning">
                Enregistrer
            </button>
        </div>
    </ng-template>
</nz-modal>
<!-- end Modal window -->
<app-access-denied *ngIf="!(bonReceptionSrv.resourceName|showable)"></app-access-denied>